<!-- 주문자 정보 -->
<details class="fb__shopCommon__section wrap-info-buyer">
    <summary class="section__header">
        <h3 class="section__title">{=trans('주문자 정보')}</h3>
    </summary>

    <div class="wrap-input-form">
        <!-- 이름 -->
        <dl>
            <dt>{=trans('이름')} <em>*</em></dt>
            <dd>
                <input type="text" id="devBuyerName" value="{buyerName}" title="{=trans('주문자 이름')}">
            </dd>
        </dl>

        <!-- @todo. 프론트: 이메일 -->
        <!-- 이메일 -->
        <dl>
            <dt>{=trans('이메일')} <em>*</em></dt>
            <dd>
                <div class="email-input">
                    <input type="text" id="devBuyerEmail" value="{buyerEmail}" title="{=trans('주문자 이메일')}">
                </div>
                <p class="txt-error" devtailmsg="devBuyerEmail" style="display: block;"></p>
            </dd>
        </dl>

        <!-- 휴대폰 번호 -->
        <dl>
            <dt>{=trans('휴대폰 번호')} <em>*</em></dt>
            <dd>
                <div class="phone-num">
                    <select id="devBuyerMobile1" class="phone-num__select">
                        <option {? buyerMobile1 == '010'}selected{/}>010</option>
                        <option {? buyerMobile1 == '011'}selected{/}>011</option>
                        <option {? buyerMobile1 == '016'}selected{/}>016</option>
                        <option {? buyerMobile1 == '017'}selected{/}>017</option>
                        <option {? buyerMobile1 == '018'}selected{/}>018</option>
                        <option {? buyerMobile1 == '019'}selected{/}>019</option>
                    </select>
                    
                    <div class="phone-num__detail">
                        <input type="text" id="devBuyerMobile2" value="{buyerMobile2}" title="{=trans('휴대폰 번호')}" maxlength="4">
                        <span class="hyphen">-</span>
                        <input type="text" id="devBuyerMobile3" value="{buyerMobile3}" title="{=trans('휴대폰 번호')}" maxlength="4">
                    </div>
                </div>
            </dd>
        </dl>
    </div>
</details>

<!-- 배송지 정보 -->
<details class="fb__shopCommon__section wrap-delivery-info" open>
    <summary class="section__header">
        <h3 class="section__title">{=trans('배송지 정보')}</h3>
    </summary>

    <div class="delivery">
        <div id="devExistDeliveryTemplate" class="delivery-box devRecipientContents" devRecipientTypeSelect="address">
            <form id="devOrderAddressListForm"><input type="hidden" name="type" value="true"/></form>

            <ul class="delivery__box" id="devOrderAddressListContent">
                <!--{'<script id="devOrderAddressListLoading" type="text/x-handlebars-template">'}-->
                <li>
                    <div class="list-info">
                        <p class="list-info__name"><strong>Loading ...</strong></p>
                    </div>
                </li>
                <!--{'</script>'}-->

                <!--{'<script id="devOrderAddressList" type="text/x-handlebars-template">'}-->
                <li class="delivery__list devOrderAddress">
                    <input type="radio" name="orderAddress" class="blind devOrderAddressRadio" data-ix="{[ix]}" value="{[index]}" style="display:none;" checked>
                    <div class="delivery__list__name">
                        <span class="name">
                            {[recipient]}
                            {[#if shipping_name]}<span class="sub-name">({[shipping_name]})</span>{[/if]}
                            <span class="default-delivery devBasic">{=trans('기본 배송지')}</span>
                        </span>
                    </div>
                    <div class="delivery__list__addr">{[address1]} {[#if address2]}{[address2]}{[/if]}</div>
                    <div class="delivery__list__tel">{[mobile]} {[#if tel]}<br>{[tel]}{[/if]}</div>
                </li>
                <!--{'</script>'}-->

                <!--{'<script id="devOrderAddressListEmpty" type="text/x-handlebars-template">'}-->
                <li>
                    <div class="info">
                        <p class="name"><strong>{=trans('등록된 배송지가 없습니다.')}</strong></p>
                    </div>
                </li>
                <!--{'</script>'}-->
            </ul>

            <button type="button" class="btn__deliveryList" id="devAddressListButton">{=trans('배송지 변경')}</button>
        </div>

        <div id="devAddDeliveryTemplate" class="wrap-input-form devRecipientContents" devRecipientTypeSelect="input" style="display: none;">
            <div class="order-same">
                <label class="fb__checkbox" for="sam-buyer-checkbox">
                    <input type="checkbox" class="blind devSameBuyerInfo" id="sam-buyer-checkbox">
                    <span>{=trans('주문자 정보와 동일')}</span>
                </label>
            </div>

            <dl>
                <dt>{=trans('받는 분')} <em>*</em></dt>
                <dd>
                    <input type="text" class="devRecipientName" title="{=trans('받는 분 이름')}">
                </dd>
            </dl>

            <dl>
                <dt>{=trans('주소')} <em>*</em></dt>
                <dd>
                    <div class="fb__input__address">
                        <div class="fb__input__address--zipCode">
                            <input type="text" class="devRecipientZip" title="{=trans('받는 분 주소')}" readonly>
                            <button type="button" class="devRecipientZipPopupButton">{=trans('주소찾기')}</button>
                        </div>
                        <input type="text" class="fb__input__address--01 devRecipientAddr1" title="{=trans('받는 분 주소')}" readonly>
                        <input type="text" class="fb__input__address--02 devRecipientAddr2" title="{=trans('받는 분 상세주소')}" placeholder="{=trans('상세주소를 입력해 주세요.')}">
                    </div>
                </dd>
            </dl>

            <dl>
                <dt>{=trans('휴대폰 번호')} <em>*</em></dt>
                <dd>
                    <div class="fb__input__phone">
                        <select class="fb__input__phone--01 devRecipientMobile1">
                            <option {? buyerMobile1 == '010'}selected{/}>010</option>
                            <option {? buyerMobile1 == '011'}selected{/}>011</option>
                            <option {? buyerMobile1 == '016'}selected{/}>016</option>
                            <option {? buyerMobile1 == '017'}selected{/}>017</option>
                            <option {? buyerMobile1 == '018'}selected{/}>018</option>
                            <option {? buyerMobile1 == '019'}selected{/}>019</option>
                        </select>

                        <div class="fb__input__phone--box">
                            <input type="number" class="fb__input__phone--02 devRecipientMobile2" value="{buyerMobile2}" title="{=trans('휴대폰 번호')}" maxlength="4">
                            <span class="dash"></span>
                            <input type="number" class="fb__input__phone--03 devRecipientMobile3" value="{buyerMobile3}" title="{=trans('휴대폰 번호')}" maxlength="4">
                        </div>
                    </div>
                </dd>
            </dl>

            <dl style="display: none;">
                <dt>{=trans('전화번호')}</dt>
                <dd>
                    <div class="fb__input__phone">
                        <select class="fb__input__phone--01 devRecipientTel1">
                            <option value="02">02</option>
                            <option value="031">031</option>
                            <option value="032">032</option>
                            <option value="041">041</option>
                            <option value="042">042</option>
                            <option value="043">043</option>
                            <option value="051">051</option>
                            <option value="052">052</option>
                            <option value="053">053</option>
                            <option value="054">054</option>
                            <option value="055">055</option>
                            <option value="061">061</option>
                            <option value="062">062</option>
                            <option value="063">063</option>
                            <option value="064">064</option>
                            <option value="070">070</option>
                            <option value="080">080</option>
                            <option value="090">090</option>
                        </select>

                        <div class="fb__input__phone--box">
                            <input type="text" class="fb__input__phone--02 devRecipientTel2" value="" title="{=trans('전화번호')}">
                            <span class="dash"></span>
                            <input type="text" class="fb__input__phone--03 devRecipientTel3" value="" title="{=trans('전화번호')}">
                        </div>
                    </div>
                </dd>
            </dl>

            <div class="default-choice">
                <label class="fb__checkbox">
                    <input type="checkbox" id="devBasicAddressBookCheckBox" class="blind">
                    <span>{=trans('기본 배송지로 선택')}</span>
                </label>
            </div>
        </div>

        <!-- 배송 요청 사항 -->
        <div class="delivery-request">
            <p class="delivery-request__title">{=trans('배송요청사항')}</p>

            <div class="delivery-request__cont devDeliveryMessageContents">
                <select class="devDeliveryMessageSelectBox">
                    <option value="">{=trans('배송요청사항 선택')}</option>
                    <option value="door">{=trans('문 앞에 놓아주세요.')}</option>
                    <option>{=trans('배송 전에 미리 연락 바랍니다.')}</option>
                    <option>{=trans('부재 시 경비실에 맡겨주세요.')}</option>
                    <option>{=trans('부재 시 전화주시거나 문자 남겨 주세요.')}</option>
                    <option value="direct">{=trans('직접입력')}</option>
                </select>

                <div class="delivery-request__write devDeliveryMessageDirectContents" style="display: none;">
                    <input type="text" class="devDeliveryMessage" maxlength="30" data-type="direct">

                    <!-- <div class="counting">
                        <span><em class="devDeliveryMessageByte">0</em>/30 자</span>
                    </div> -->
                </div>

                <div class="delivery-request__write devDeliveryMessageDoorContents" style="display: none;">
                    <select class="devDeliveryEntranceWay">
                        <option value="">{=trans('공동현관 출입방법 선택')}</option>
                        <option value="door">{=trans('공동현관 출입번호')}</option>
                        <option>{=trans('경비실 호출')}</option>
                        <option>{=trans('비밀번호 없이 출입가능')}</option>
                        <option value="direct">{=trans('직접입력')}</option>
                    </select>

                    <div class="delivery-request__write devDeliveryEntranceWayMessageWrap" style="display: none;">
                        <input type="text" class="devDoorMessage" placeholder="{=trans('예) #101(호수) + #0000(비밀번호)')}" maxlength="30" data-type="door">

                        <!-- <div class="counting">
                            <span><em class="devDoorMessageByte">0</em>/30 자</span>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</details>

<!-- 주문상품 -->
<details class="fb__shopCommon__section fb__infoinput__item">
    <summary class="section__header">
        <h3 class="section__title">{=trans('주문상품')}</h3>
    </summary>

    <div class="section__box">
        {# cartTemplate}
    </div>
</details>

<!-- 할인/헤택 적용 -->
<details class="fb__shopCommon__section wrap-discount-area" open>
    <summary class="section__header">
        <h3 class="section__title">{=trans('할인/혜택 적용')}</h3>
    </summary>

    <div class="discount">
        <div class="discount-box">
            <div class="discount-box__header">
                <strong class="discount-box__header__title">{=trans('쿠폰할인')}</strong>
                <span class="discount-box__header__keep">{=trans('보유 쿠폰')} <em>{=trans('{userCouponCnt}장')}</em></span>
            </div>

            <div class="discount-box__cont">
                <div class="discount-box__input">
                    <input type="text" id="devUseCouponInputText" disabled>
                    <span class="discount-box__input__unit disabled">{=trans('원')}</span>
                </div>

                {? userCouponCnt > 0}
                <button type="button" class="btn__discount" id="devUseCouponButton">{=trans('쿠폰변경')}</button>
                {/}
            </div>

            <div class="discount-box__notice">
                <p>{=trans('쿠폰은 옵션당 1매만 사용 가능합니다.')}</p>
            </div>
        </div>

        <div class="discount-box">
            <div class="discount-box__header">
                <strong class="discount-box__header__title">{=trans('{mileageName} 사용')}</strong>
                <span class="discount-box__header__keep">{=trans('보유')} {mileageName} <em>{=g_price(userMileage)}{mileageUnit}</em></span>
            </div>

            <div class="discount-box__cont">
                <div class="discount-box__input">
                    <span class="mileage-input">
                        <span class="discount-box__input__unit">{mileageUnit}</span>
                        <input type="text" id="devUseMileage" value="0" {? !useMileageBool}readonly disabled{/}>
                    </span>
                </div>

                <label class="btn__discount" for="devAllUseMileageCheckBox">
                    <input type="checkbox" class="blind" id="devAllUseMileageCheckBox" devAllUseMileage="{maxUseMileage}" devMileageTargetPrice="{mileageTargetPrice}" {? !useMileageBool}disabled{/}>
                    <span>{=trans('전체 사용')}</span>
                </label>
            </div>
               
            <div class="discount-box__notice">
                <p>{? mileageConditionMinMileage > 0}{mileageName}은 '{=g_number_format(mileageConditionMinMileage)}' {mileageName} 이상 보유한 경우에만 사용 가능하며 {/}'{mileageConditionUseUnit}'{mileageName} 단위로 사용 가능합니다.</p>
                <p>{? mileageConditionMinBuyAmt > 0}상품 구매금액 합계가 ‘{=g_number_format(mileageConditionMinBuyAmt)}’원 이상인 경우{:}상품 구매금액과 상관없이{/} {? mileageConditionUseLimitType =='noLimit'}사용가능 합니다.{:}최대 ‘{=g_number_format(mileageConditionUseLimitValue)}’ {?mileageConditionUseLimitType
                    =='price'}{mileageName}{:}%{/}까지 사용 가능합니다.{/}</p>
                <p>{mileageName}로 배송비 사용은 {? mileageConditionUseDeliverypriceYn =='Y'}가능{:}불가{/} 합니다.</p>
            </div>
        </div>
    </div>
</details>
